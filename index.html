<!DOCTYPE html>
<html lang="en">
	<head>
		
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="author" content="">
		<link rel="icon" href="favicon.ico">

		<title>GurglGas</title>

		<!-- Bootstrap core CSS -->
		<link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">

		<!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
		<!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
		<script src="lib/bootstrap/assets/js/ie-emulation-modes-warning.js"></script>

		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

		<!-- Custom styles for this template -->
		<link href="carousel.css" rel="stylesheet">
		<link href="signin.css" rel="stylesheet">

	</head>
<!-- NAVBAR
	================================================== -->
	<body>
		<div class="navbar-wrapper">
			<div class="container">

				<nav class="navbar navbar-inverse navbar-fixed-top">
					<div class="container">
						<div class="navbar-header">
							<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
								<span class="sr-only">Toggle navigation</span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</button>
							<a class="navbar-brand" href="#">GurglGas</a>
						</div>
						<div id="navbar" class="navbar-collapse collapse">
							<ul class="nav navbar-nav">
								<li class="active"><a href="#">Home</a></li>
								<li><a href="#about">About</a></li>
								<li><a href="#contact">Contact</a></li>
								<!-- <li class="dropdown">
									<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Dropdown <span class="caret"></span></a>
									<ul class="dropdown-menu" role="menu">
										<li><a href="#">Action</a></li>
										<li><a href="#">Another action</a></li>
										<li><a href="#">Something else here</a></li>
										<li class="divider"></li>
										<li class="dropdown-header">Nav header</li>
										<li><a href="#">Separated link</a></li>
										<li><a href="#">One more separated link</a></li>
									</ul>
								</li> -->
							</ul>
						</div>
					</div>
				</nav>

			</div>
		</div>

		<!-- Carousel
		================================================== -->
		<div id="myCarousel" class="carousel slide " data-ride="carousel">
			<div class="carousel-inner" role="listbox">
				<div class="item active">
					<div>
						<img class="img-responsive" src="img/refuel.jpg" alt="First slide" style="min-height: 100%; min-width: 100%; position: absolute;">
					</div>
					<div class="container">
						<div class="carousel-caption" style="top: 10px">
							<h1>Rethink fueling your car</h1>
							<div id="signup-reponse">
								<form class="form-horizontal" id="signUpForm">
									<label for="inputEmail" class="sr-only">Email address</label>
									<input type="email" id="inputEmail" class="form-control" placeholder="Email address" required autofocus>
									<label for="inputZip" class="sr-only">Zip Code</label>
									<input type="text" id="inputZip" class="form-control" placeholder="Zip Code" required>
									<p>
										<label class="control-label">How did you hear about us?</label>
										<select class="form-control" id="inputSrc">
											<option value=""></option>
											<option value="App Store">App Store</option>
											<option value="Event Around Town">Event Around Town</option>
											<option value="Facebook">Facebook</option>
											<option value="Friend or Family">Friend or Family</option>
											<option value="Mailer/Postcard/Flyer">Mailer/Postcard/Flyer</option>
											<option value="News Story">News Story</option>
											<option value="Online Blog">Online Blog</option>
											<option value="Forum or Search">Forum or Search</option>
											<option value="Other">Other</option>
										</select>
									</p>
									<button type="submit" class="btn btn-lg btn-primary" role="button">Sign up today</button>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div><!-- /.carousel -->
		
		<!-- Carousel
		================================================== -->
		<div class="carousel slide " data-ride="carousel">
			<!-- Indicators -->
			<ol class="carousel-indicators">
				<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
				<li data-target="#myCarousel" data-slide-to="1"></li>
				<li data-target="#myCarousel" data-slide-to="2"></li>
			</ol>
			<div class="carousel-inner" role="listbox">
				<div class="item active">
					<img src="data:image/gif;base64,R0lGODlhAQABAIAAAFVVVQAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="First slide">
					<div class="container">
						<div class="carousel-caption">
							<h1>Fueling remastered</h1>
							<p>Let us handle making sure your ride is ready to go whenever you need it. No more hassle, no need to take time out to fill up your tank when you are in a rush or it is cold outside. Never worry about refueling again!</p>
							<p><a class="btn btn-lg btn-primary" href="#" role="button">Learn More</a></p>
						</div>
					</div>
				</div>
				<div class="item">
					<img src="data:image/gif;base64,R0lGODlhAQABAIAAAFVVVQAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Third slide">
					<div class="container">
						<div class="carousel-caption">
							<h1>We come to you</h1>
							<p>Wherever you are, we will come to you! So you really don't have to worry. You will just be pleasantly surprised to see you fuel guage at full when you get in your car. Whether you are shopping, at work, at home, or out on the town we have you covered!.</p>
							<p><a class="btn btn-lg btn-primary" href="#" role="button">Learn More</a></p>
						</div>
					</div>
				</div>
				<div class="item">
					<img src="data:image/gif;base64,R0lGODlhAQABAIAAAGZmZgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Second slide">
					<div class="container">
						<div class="carousel-caption">
							<h1>Check out the easy-to-use App</h1>
							<p>Easily and intuitively manage your portfolio, see service history and manage payment options. If you ever just want your tank topped off, you can with the tap of a button. We will get you topped off and ready to go in no time at all!</p>
							<p><a class="btn btn-lg btn-primary" href="#" role="button">iOS</a><a class="btn btn-lg btn-primary" href="#" role="button">Android</a></p>
						</div>
					</div>
				</div>
			</div>
			<a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
				<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
				<span class="sr-only">Previous</span>
			</a>
			<a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
				<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
				<span class="sr-only">Next</span>
			</a>
		</div><!-- /.carousel -->


		<!-- Marketing messaging and featurettes
		================================================== -->
		<!-- Wrap the rest of the page in another container to center all the content. -->

		<div class="container marketing">

			<!-- Three columns of text below the carousel -->
			<div class="row">
				<div class="col-lg-4">
					<img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image" style="width: 140px; height: 140px;">
					<h2>Heading</h2>
					<p>Donec sed odio dui. Etiam porta sem malesuada magna mollis euismod. Nullam id dolor id nibh ultricies vehicula ut id elit. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Praesent commodo cursus magna.</p>
					<p><a class="btn btn-default" href="#featurette-1" role="button">View details &raquo;</a></p>
				</div><!-- /.col-lg-4 -->
				<div class="col-lg-4">
					<img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image" style="width: 140px; height: 140px;">
					<h2>Heading</h2>
					<p>Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Cras mattis consectetur purus sit amet fermentum. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh.</p>
					<p><a class="btn btn-default" href="#featurette-2" role="button">View details &raquo;</a></p>
				</div><!-- /.col-lg-4 -->
				<div class="col-lg-4">
					<img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image" style="width: 140px; height: 140px;">
					<h2>Heading</h2>
					<p>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p>
					<p><a class="btn btn-default" href="#featurette-3" role="button">View details &raquo;</a></p>
				</div><!-- /.col-lg-4 -->
			</div><!-- /.row -->


			<!-- START THE FEATURETTES -->

			<hr class="featurette-divider">

			<div class="row featurette" id="featurette-1">
				<div class="col-md-7">
					<h2 class="featurette-heading">First featurette heading. <span class="text-muted">It'll blow your mind.</span></h2>
					<p class="lead">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
				</div>
				<div class="col-md-5">
					<img class="featurette-image img-responsive" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
				</div>
			</div>

			<hr class="featurette-divider">

			<div class="row featurette" id="featurette-2">
				<div class="col-md-5">
					<img class="featurette-image img-responsive" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
				</div>
				<div class="col-md-7">
					<h2 class="featurette-heading">Oh yeah, it's that good. <span class="text-muted">See for yourself.</span></h2>
					<p class="lead">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
				</div>
			</div>

			<hr class="featurette-divider">

			<div class="row featurette" id="featurette-3">
				<div class="col-md-7">
					<h2 class="featurette-heading">And lastly, this one. <span class="text-muted">Checkmate.</span></h2>
					<p class="lead">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
				</div>
				<div class="col-md-5">
					<img class="featurette-image img-responsive" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
				</div>
			</div>

			<hr class="featurette-divider">

			<!-- /END THE FEATURETTES -->


			<!-- FOOTER -->
			<footer>
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p>&copy; 2016 GurglGas, Inc. &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
			</footer>

		</div><!-- /.container -->


		<!-- Bootstrap core JavaScript
		================================================== -->
		<!-- Placed at the end of the document so the pages load faster -->
		<script src="lib/js/jquery.min.js"></script>
		<script src="lib/bootstrap/js/bootstrap.min.js"></script>
		<script src="lib/bootstrap/assets/js/docs.min.js"></script>
		<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
		<script src="lib/bootstrap/assets/js/ie10-viewport-bug-workaround.js"></script>

		<script type="text/javascript">

			// Your Client ID can be retrieved from your project in the Google
			// Developer Console, https://console.developers.google.com
			var CLIENT_ID = '1022758500648-opdih50enm95rnp26ikkohjdd19hi0qo.apps.googleusercontent.com';

			var SCRIPT_ID = '1nvvvIAakuYuhNyLD66WAFxrFheliZY6F_fKxC246aOmgQohyeiAdILyz';

			var SCOPES = ['https://www.googleapis.com/auth/spreadsheets',
						  'https://www.googleapis.com/auth/userinfo.email'];

			var authorized = false;
			/**
			 * Check if current user has authorized this application.
			 */
			function checkAuth() {
				gapi.auth.authorize({
					'client_id': CLIENT_ID,
					'scope': SCOPES,
					'immediate': true
				}, handleAuthResult);
			}

			/**
			 * Handle response from authorization server.
			 *
			 * @param {Object} authResult Authorization result.
			 */
			function handleAuthResult(authResult) {
				if (authResult && !authResult.error) {
					authorized = true;
				} else {
					console.log(authResult);
					authorized = false;
				}
			}

			$(document).ready(function() {
				$('#signUpForm').submit(function(e) {
					submitForm(e);
				})
			});

			function sendData() {

				var email = document.getElementById("inputEmail").value;
				var zip = document.getElementById("inputZip").value;
				var src = document.getElementById("inputSrc").value;

				var request = {
					'function': 'saveData',
					'parameters': [
						email,
						zip,
						src
					]
				};

				var op = gapi.client.request({
					'root': 'https://script.googleapis.com',
					'path': 'v1/scripts/' + SCRIPT_ID + ':run',
					'method': 'POST',
					'body': request
				});

				op.execute(function(resp){ 
					console.log(resp);
					console.log(resp.response.result);

					//TODO: do something with response
					// if successful change sign up for to a thank you note
					// else try again

					if(resp.response.result.message) {
						$("#signup-reponse").html('<h2>' + resp.response.result.message + '</h2>');
					}
				});
			}

			function submitForm(e) {
				e.preventDefault();
				
				if(authorized) {
					sendData();
					e.target.reset();
				}
				else {
					gapi.auth.authorize({
						client_id: CLIENT_ID,
						scope: SCOPES,
						immediate: false
					}, 
					function(authResult) {
						if(authResult && !authResult.error) {
							sendData();
							e.target.reset();
						}
					});
				}
			}
		</script>

		</body>
		<script src="https://apis.google.com/js/client.js?onload=checkAuth"></script>
	</html>
